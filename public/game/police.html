<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>射击</title>
</head>
<style>
* {
    padding: 0;
    margin: 0;
}
</style>

<body>
</body>

</html>
<script src="./r.js"></script>
<script>
const canvas = document.createElement('canvas')
document.body.appendChild(canvas)
const ctx = canvas.getContext('2d')
canvas.width = 480
canvas.height = 320
ctx.fillStyle = "#ccc"
ctx.fillRect(0, 0, canvas.width, canvas.height)
let resoure
const _main = async() => {

    let img = {
        image: './image/texture.png'
    }
    await loadImage(img)
        .then((res) => {
            resoure = res
            setInterval(update, 1000 / 60)
        })

}

const update = () => {

    let img = {
        x: canvas.width / 2 - resoure.image.width / 2,
        y: canvas.height / 2 - resoure.image.height / 2,
        image: resoure.image
    }

    let json = {
        img1: {
            x: 5,
            y: 5,
            width: 35,
            height: 30,
            pos: [00, 0]
        },
        img2: {
            x: 5,
            y: 40,
            width: 35,
            height: 30,
            pos: [33, 0]
        },
    }
    let o1 = json.img1,
        o2 = json.img2
    ctx.drawImage(img.image, o1.pos[0], o1.pos[1], o1.width, o1.height, o1.x, o1.y, o1.width, o1.height)
    ctx.drawImage(img.image, o2.pos[0], o2.pos[1], o2.width, o2.height, o2.x, o2.y, o2.width, o2.height)
}
_main()
</script>