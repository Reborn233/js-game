<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>ToImage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link href="https://cdn.bootcss.com/normalize/8.0.0/normalize.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/milligram/1.3.0/milligram.min.css" rel="stylesheet">
    <script src="https://unpkg.com/wangeditor@3.1.1/release/wangEditor.min.js"></script>
    <style>
    .hide {
        display: none;
    }

    #editor {
        width: 100%;
        height: 90vh;
        border-bottom: 1px solid #ccc;
    }
    </style>
</head>

<body style="overflow-y: auto;">
    <div id="head"></div>
    <div id='editor'></div>
    <!-- <div id='root' class="container" style="width: 500px;">
        <br>
        <p>
            首先大家在天神南集合一个大的十字路口 天神南这里是三越九楼，天神免税店，我们提供返点的地方，一楼也有pola，ipsa，什么等品牌，但一楼没有贵宾卡就没有95折贵宾卡需要一天买满10万或者三天累计买满30万才可以办，（三越，盐田屋两个商场的金额可以累计）买完之后的买的东西才可以95折 三越对面就是大丸百货，大丸百货有95折＋携程返点2％     大丸百货往南走，可以看到大国药妆，比较小但可以满足扫货要求，药类便宜。有大木有安耐晒 大国药妆往南走，有个鹤羽药妆可能有凡尔赛。 三越百货往南走，可以看到loft，wpc伞可以买，还有可能买到大米和酒糟面膜 现在我们下到地下街。 先走到的是艾天然，不免税， 再往下走，春水堂，最好喝的珍珠奶茶一定会排队， 在往下走，在右手边可以有个lush，直接免税 
        </p>
        <p>
            然后从lush那个口上楼
        </p>
        <img src="./src/IMG_2415.JPG">
        <p>
            就能看到这个商场，然后我们在天神中央口，这个商场后面有gu 中央口往北看，可以看到无印良品，优衣库，松本清 
        </p>
        <img src="./src/IMG_2414.JPG">
        <br>
        <img src="./src/IMG_2411.JPG">
        <p>
            中央口这个车站可以坐303，坐到底，就是奥特莱斯 
        </p>
        <img src="./src/IMG_2413.JPG">
        <br>
        <img src="./src/IMG_2412.JPG">
        <p>
            从中央口，可以看到肯德基麦当劳，那条巷子里有abcmarket，abcmarket对面是iqos专卖店，可以买到限量版的iqos机器，不免税     iqos往前走300不到，右手边有个冠军专卖店，不免税 返回肯德基麦当劳那个十字路口，往左走，可以看到一兰拉面，一兰拉面旁边有个粉白的药妆店，面膜比较便宜，一兰拉面旁边还有一个红11，可能买到凡尔赛 往前走，是盐田屋，盐田屋跟三越一样，只免税，有贵宾卡才有95折，盐田屋一楼有个川久保玲，每周五上新，就在Gucci旁边。 
        </p>
        <p>
            盐田屋旁边有个lv，可以直接免8％税，有些限量，还可以预定
        </p>
        <p>
            lv往前走，可以看到必客（bic camera）2号店，比较便宜比较全，必客（bic camera）1号店比较贵不推荐去。
        </p>
        <p>
            苹果专卖店附近200米，有个jins，地下街也有jins
        </p>
        <p>
            走到必客（bic camera）2号店前面那条马路，可以看到堂吉诃德，堂吉诃德那个十字路口有苹果专卖店，苹果专卖店免税。
        </p>
        <p>
            必客（bic camera）2号店，对面就是三越百货。
        </p>
        <p>
            理一下思路，以三越百货为届，地下街那一面，有大丸百货，大国药妆，鹤羽药妆，loft，无印良品，优衣库，gu
        </p>
        <p>
            另外一面，iqos专卖店，冠军，堂吉诃德，必客2号店，盐田屋，苹果专卖店，jins，lv专卖店 另外备注： mamakids在盐田屋五楼的一个小角落里有，只有退税，除非有贵宾卡才有95折贵宾卡只可以打折单件3000日币以上的东西，例如mamakids面霜1944税入价格，不可以打95折，
        </p>
        <p>
            mamakids在阪急也有，可95折＋退税 mamakids在三越b1也有，不免税
        </p>
        <p>
            haba在大丸百货和阪急才有 hacci大丸百货就有
        </p>
        <p>
            阪急较远，坐公交车前往，人多可打车前往。
        </p>
        <p>
            阿卡酱（阿卡佳）也较远，在奥特莱斯附近，可去奥特莱斯顺便去。
        </p>
        <p>
            奥特莱斯可在案内所（服务台）领取打折卡，有些柜台可使用，但积分不能使用得要注册登录。
        </p>
        <p>
            包通关近期不稳定，建议直接邮局直邮，箱子可在邮局购买，或者直接在药妆店问店员要和路边捡。
        </p>
        <p>
            大创，永旺在优衣库无印良品松本清后面走一点点就能看到。
        </p>
        <p>
            三宅一生机场购买更便宜，但没有水桶包，其他货全
        </p>
        <p>
            白桃乌龙在大丸百货b1层 再者大家可以使用国内的大众点评，上面有必客，松本清，
        </p>
        <p>
            大国药妆的优惠券比店里发的还要合算 福冈机场里最近扫银联才有95折！
        </p>
        <p>
            望大家保存优惠券，或者到现场也能去扫
        </p>
    </div> -->
    <div class="container">
        <button onclick='toImage()'>To Image</button>
    </div>
    <div id='root' class="container" style="width: 500px;"></div>
    <a href="" id="save" download="image.png" onclick='saveAsLocalImage()'>保存</a>
    <img src="" id='saveImg'>
</body>

</html>
<script src='./src/html2canvas.min.js'></script>
<script>
var E = window.wangEditor
var editor = new E('#head', '#editor')
editor.customConfig.menus = [
    'head',
    'bold',
    'italic',
    'underline',
    'image',
    'quote'
]
editor.customConfig.uploadImgShowBase64 = true
editor.create()

function toImage() {
    var dom = editor.txt.html()
    var box = document.querySelector("#root")
    box.innerHTML = dom
    html2canvas(box).then(canvas => {
        box.style.display = 'none'
        document.body.appendChild(canvas)
    });
}



function saveAsLocalImage() {
    var canvas = document.querySelector("canvas");
    var save = document.getElementById('save');
    var img = document.getElementById("saveImg");
    var tempSrc = canvas.toDataURL("image/png");
    save.href = tempSrc;
    img.src = tempSrc;
}
</script>